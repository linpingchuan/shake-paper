\section{Shaking up GHC\label{sec:ghc}}

In this section we report on our experience on applying the techniques presented
so far to building a large-scale software project: the Glasgow Haskell Compiler.

\todo{Summary: How we used better tools and abstractions to do better.}

\subsection{Analysis of common use-cases}

\todo{Andrey: Table with qualitative comparison of make and Shake}.

Qualitative results: easier to understand and maintain. Can we say this? Or do
we need a proper user study?

\subsection{Benchmarks}

\todo{Neil: your profiling results can go here}

Quantitative results: benchmarking, profiling, achieved parallelism.

We used parallelism to speed up some phases. Show profiles showing ghc-cabal was
a bottleneck.

\subsection{Things lint spotted}

\todo{Neil: I think I have only one good example: result of getDirectoryFiles
changed. Do we want to discuss it here? Maybe somewhere in the Shake section
instead?}

Most useful one is if two people whack the same output. Other thing is where
doing all .hs files in a dir, and then you generate one. Should this go
somewhere else? Perhaps in S5.
